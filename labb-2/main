/* Template for program that creates (forks off) three other processes */
/* Per Str√∂mgren 2003-02-11 */

#include <stdlib.h>
#include <stdio.h>
#include <unistd.h>

/* redefine the program names if you want */
#define PROGRAM_A "./process_a"
#define PROGRAM_B "./process_b"
#define PROGRAM_C "./process_c"

const int FALSE=0;
const int TRUE=1;


/* Clean-up function */
/* Pre: True
   Post: all signalling files removed, all daughter processes killed */
void cleanup(){
        /* Some code is needed here */
}


int main(int argc, char* argv[])
{
	int processid;
	
	/* Set up reception of CTRL-C or other */

	/* create the A, B and C processes */
	if ((processid=fork()) == 0)
	{
		execlp(PROGRAM_A,PROGRAM_A,NULL);
		/* If we return from execlp, it failed */
		printf("\n\"%s\" couldn't be executed. Check that it exists\n",PROGRAM_A);
		exit(-1);
	}
	if ((processid=fork()) == 0)
	{
		execlp(PROGRAM_B,PROGRAM_B,NULL);
		/* If we return from execlp, it failed */
		printf("\n\"%s\" couldn't be executed. Check that it exists\n",PROGRAM_B);
		exit(-1);
	}
	if ((processid=fork()) == 0)
	{
		execlp(PROGRAM_C,PROGRAM_C,NULL);
		/* If we return from execlp, it failed */
		printf("\n\"%s\" couldn't be executed. Check that it exists\n",PROGRAM_C);
		exit(-1);
	}
	printf("\nProcesses started if no error messages displayed, use \"ps\" command to check.\n ");
	/* wait here for a CTRL-C */
	return 0;
}
